ERROR 2024-11-27 15:31:45,849 log Internal Server Error: /api/recommendations/
Traceback (most recent call last):
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\generics.py", line 243, in get
    return self.list(request, *args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'RecommendationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
ERROR 2024-11-27 15:31:45,875 basehttp "GET /api/recommendations/ HTTP/1.1" 500 105911
ERROR 2024-11-27 15:39:27,313 log Internal Server Error: /api/recommendations/
Traceback (most recent call last):
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\generics.py", line 243, in get
    return self.list(request, *args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\generics.py", line 67, in get_queryset
    assert self.queryset is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'RecommendationView' should either include a `queryset` attribute, or override the `get_queryset()` method.
ERROR 2024-11-27 15:39:27,349 basehttp "GET /api/recommendations/ HTTP/1.1" 500 105911
ERROR 2024-11-27 15:42:14,105 log Internal Server Error: /api/ratings/
Traceback (most recent call last):
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\generics.py", line 243, in get
    return self.list(request, *args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 97, in get_queryset
    return MovieRating.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: created_at, id, movie_id, rating
ERROR 2024-11-27 15:42:14,138 basehttp "GET /api/ratings/ HTTP/1.1" 500 150143
ERROR 2024-11-27 15:50:48,270 log Internal Server Error: /api/recommendations/
Traceback (most recent call last):
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\generics.py", line 243, in get
    return self.list(request, *args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\mixins.py", line 45, in list
    serializer = self.get_serializer(queryset, many=True)
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\generics.py", line 112, in get_serializer
    serializer_class = self.get_serializer_class()
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\generics.py", line 126, in get_serializer_class
    assert self.serializer_class is not None, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 'RecommendationView' should either include a `serializer_class` attribute, or override the `get_serializer_class()` method.
ERROR 2024-11-27 15:50:48,296 basehttp "GET /api/recommendations/ HTTP/1.1" 500 110614
ERROR 2024-11-27 16:13:20,877 log Internal Server Error: /api/ratings/
Traceback (most recent call last):
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\generics.py", line 243, in get
    return self.list(request, *args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 101, in get_queryset
    return MovieRating.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: created_at, id, movie_id, rating
ERROR 2024-11-27 16:13:20,921 basehttp "GET /api/ratings/ HTTP/1.1" 500 150283
ERROR 2024-11-27 16:14:48,836 services Error fetching movie details for ID 1: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-27 16:14:48,842 views Error fetching movie details for ID 1: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 76, in get
    movie_details = fetch_movie_details(movie_id)
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-27 16:14:48,907 log Internal Server Error: /api/movie/1/
ERROR 2024-11-27 16:14:48,910 basehttp "GET /api/movie/1/ HTTP/1.1" 500 5435
ERROR 2024-11-28 08:52:56,501 services Error fetching movie details for ID 1: 404 Client Error: Not Found for url: https://api.themoviedb.org/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 08:52:56,508 views Error fetching movie details for ID 1: 404 Client Error: Not Found for url: https://api.themoviedb.org/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 76, in get
    movie_details = fetch_movie_details(movie_id)
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 08:52:56,570 log Internal Server Error: /api/movie/1/
ERROR 2024-11-28 08:52:56,573 basehttp "GET /api/movie/1/ HTTP/1.1" 500 5431
ERROR 2024-11-28 08:53:15,106 services Error fetching movie details for ID 3: 404 Client Error: Not Found for url: https://api.themoviedb.org/movie/3?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/movie/3?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 08:53:15,110 views Error fetching movie details for ID 3: 404 Client Error: Not Found for url: https://api.themoviedb.org/movie/3?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 76, in get
    movie_details = fetch_movie_details(movie_id)
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/movie/3?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 08:53:15,118 log Internal Server Error: /api/movie/3/
ERROR 2024-11-28 08:53:15,121 basehttp "GET /api/movie/3/ HTTP/1.1" 500 5431
ERROR 2024-11-28 09:01:03,896 services Error fetching movie details for ID 4: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/4?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/4?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 09:01:03,916 views Error fetching movie details for ID 4: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/4?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 76, in get
    movie_details = fetch_movie_details(movie_id)
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/4?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 09:01:03,936 log Internal Server Error: /api/movie/4/
ERROR 2024-11-28 09:01:03,940 basehttp "GET /api/movie/4/ HTTP/1.1" 500 5435
ERROR 2024-11-28 09:05:05,569 services Error fetching movie details for ID 7: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/7?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/7?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 09:05:05,573 views Error fetching movie details for ID 7: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/7?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 76, in get
    movie_details = fetch_movie_details(movie_id)
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/7?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 09:05:05,583 log Internal Server Error: /api/movie/7/
ERROR 2024-11-28 09:05:05,587 basehttp "GET /api/movie/7/ HTTP/1.1" 500 5435
ERROR 2024-11-28 11:51:11,113 signal Signal handler <bound method DjangoFixup.on_import_modules of <celery.fixups.django.DjangoFixup object at 0x000001CC96185FD0>> raised: ModuleNotFoundError("No module named 'movies.celery'")
Traceback (most recent call last):
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\celery\utils\dispatch\signal.py", line 276, in send
    response = receiver(signal=self, sender=sender, **named)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\celery\fixups\django.py", line 100, in on_import_modules
    self.worker_fixup.validate_models()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\celery\fixups\django.py", line 140, in validate_models
    run_checks()
    ~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\core\checks\registry.py", line 88, in run_checks
    new_errors = check(app_configs=app_configs, databases=databases)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\core\checks\urls.py", line 14, in check_url_config
    return check_resolver(resolver)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\core\checks\urls.py", line 24, in check_resolver
    return check_method()
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\urls\resolvers.py", line 494, in check
    for pattern in self.url_patterns:
                   ^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\urls\resolvers.py", line 715, in url_patterns
    patterns = getattr(self.urlconf_module, "urlpatterns", self.urlconf_module)
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\utils\functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\urls\resolvers.py", line 708, in urlconf_module
    return import_module(self.urlconf_name)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\importlib\__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1022, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "C:\Product House\movieapp\movieapp\movieapp\urls.py", line 26, in <module>
    path('', include('movies.urls')),
             ~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\urls\conf.py", line 38, in include
    urlconf_module = import_module(urlconf_module)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\importlib\__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1022, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "C:\Product House\movieapp\movieapp\movies\urls.py", line 3, in <module>
    from .views import RecommendationView, MovieDetailView, RatingView
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 10, in <module>
    from .services import fetch_movie_recommendations_task, fetch_movie_details_task  # Import Celery tasks
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 4, in <module>
    from .celery import app  # Import the Celery app for background tasks
    ^^^^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'movies.celery'
ERROR 2024-11-28 12:15:55,759 log Internal Server Error: /api/ratings/
Traceback (most recent call last):
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\generics.py", line 243, in get
    return self.list(request, *args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 101, in get_queryset
    return MovieRating.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1498, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1529, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<6 lines>...
        summarize=summarize,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1379, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1189, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1677, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: created_at, id, movie_id, rating
ERROR 2024-11-28 12:15:55,860 basehttp "GET /api/ratings/ HTTP/1.1" 500 153258
ERROR 2024-11-28 12:24:58,719 log Internal Server Error: /api/ratings/
Traceback (most recent call last):
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\fields\__init__.py", line 2055, in get_prep_value
    return int(value)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\contrib\auth\models.py", line 437, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\generics.py", line 243, in get
    return self.list(request, *args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 101, in get_queryset
    return MovieRating.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1498, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1529, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<6 lines>...
        summarize=summarize,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1444, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1271, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\fields\related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\fields\__init__.py", line 2057, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000001FB99155400>.
ERROR 2024-11-28 12:24:58,743 basehttp "GET /api/ratings/ HTTP/1.1" 500 171988
ERROR 2024-11-28 12:28:03,480 log Internal Server Error: /api/ratings/
Traceback (most recent call last):
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\fields\__init__.py", line 2055, in get_prep_value
    return int(value)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\contrib\auth\models.py", line 437, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\generics.py", line 243, in get
    return self.list(request, *args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 101, in get_queryset
    return MovieRating.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1498, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1529, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<6 lines>...
        summarize=summarize,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1444, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1271, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\fields\related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\fields\__init__.py", line 2057, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000001544F6ED2B0>.
ERROR 2024-11-28 12:28:03,511 basehttp "GET /api/ratings/ HTTP/1.1" 500 171988
ERROR 2024-11-28 12:28:43,131 log Internal Server Error: /api/ratings/
Traceback (most recent call last):
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\fields\__init__.py", line 2055, in get_prep_value
    return int(value)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\contrib\auth\models.py", line 437, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\generics.py", line 243, in get
    return self.list(request, *args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 101, in get_queryset
    return MovieRating.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1498, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1529, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<6 lines>...
        summarize=summarize,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1444, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\query.py", line 1271, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\fields\related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\fields\__init__.py", line 2057, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x000001CEDE705400>.
ERROR 2024-11-28 12:28:43,156 basehttp "GET /api/ratings/ HTTP/1.1" 500 171988
ERROR 2024-11-28 12:33:54,784 views Anonymous user tried to submit a rating.
NoneType: None
ERROR 2024-11-28 12:43:03,304 views Anonymous user tried to submit a rating.
NoneType: None
ERROR 2024-11-28 12:45:51,143 views Failed to create rating. Errors: {'movie_id': [ErrorDetail(string='This field is required.', code='required')], 'rating': [ErrorDetail(string='This field is required.', code='required')]}
NoneType: None
ERROR 2024-11-28 12:47:19,378 views Failed to create rating. Errors: {'user': [ErrorDetail(string='Invalid pk "2" - object does not exist.', code='does_not_exist')]}
NoneType: None
ERROR 2024-11-28 12:49:42,081 services Error fetching movie details for ID 1: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 12:49:42,099 views Error fetching movie details for ID 1: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 78, in get
    movie_details = fetch_movie_details(movie_id)
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 53, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 12:49:42,102 log Internal Server Error: /api/movie/1/
ERROR 2024-11-28 12:49:42,104 basehttp "GET /api/movie/1/ HTTP/1.1" 500 126
ERROR 2024-11-28 14:44:10,588 services HTTPError fetching movie details for ID 1: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 64, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 14:44:10,592 views Error fetching movie details for ID 1: Could not fetch movie details. Please try again later.
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 64, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 68, in get
    movie_details = fetch_movie_details(movie_id)
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 70, in fetch_movie_details
    raise MovieRecommendationError("Could not fetch movie details. Please try again later.")
movies.services.MovieRecommendationError: Could not fetch movie details. Please try again later.
ERROR 2024-11-28 14:44:10,598 log Internal Server Error: /api/movie/1/
ERROR 2024-11-28 14:44:10,600 basehttp "GET /api/movie/1/ HTTP/1.1" 500 66
ERROR 2024-11-28 14:44:18,982 services HTTPError fetching movie details for ID 1: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 64, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 14:44:18,984 views Error fetching movie details for ID 1: Could not fetch movie details. Please try again later.
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 64, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 68, in get
    movie_details = fetch_movie_details(movie_id)
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 70, in fetch_movie_details
    raise MovieRecommendationError("Could not fetch movie details. Please try again later.")
movies.services.MovieRecommendationError: Could not fetch movie details. Please try again later.
ERROR 2024-11-28 14:44:18,988 log Internal Server Error: /api/movie/1/
ERROR 2024-11-28 14:44:18,990 basehttp "GET /api/movie/1/ HTTP/1.1" 500 66
ERROR 2024-11-28 15:29:27,021 services HTTPError fetching movie details for ID 1: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 64, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 15:29:27,045 views Error fetching movie details for ID 1: Could not fetch movie details. Please try again later.
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 64, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/1?api_key=a62c63177d84044d2e69105c87a41bca

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 69, in get
    movie_details = fetch_movie_details(movie_id)
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 70, in fetch_movie_details
    raise MovieRecommendationError("Could not fetch movie details. Please try again later.")
movies.services.MovieRecommendationError: Could not fetch movie details. Please try again later.
ERROR 2024-11-28 15:29:27,055 log Internal Server Error: /api/movie/1/
ERROR 2024-11-28 15:29:27,058 basehttp "GET /api/movie/1/ HTTP/1.1" 500 66
ERROR 2024-11-28 15:29:34,130 services HTTPError fetching movie details for ID 7: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/7?api_key=a62c63177d84044d2e69105c87a41bca
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 64, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/7?api_key=a62c63177d84044d2e69105c87a41bca
ERROR 2024-11-28 15:29:34,133 views Error fetching movie details for ID 7: Could not fetch movie details. Please try again later.
Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 64, in fetch_movie_details
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ELISHA.MATANGA\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.themoviedb.org/3/movie/7?api_key=a62c63177d84044d2e69105c87a41bca

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Product House\movieapp\movieapp\movies\views.py", line 69, in get
    movie_details = fetch_movie_details(movie_id)
  File "C:\Product House\movieapp\movieapp\movies\services.py", line 70, in fetch_movie_details
    raise MovieRecommendationError("Could not fetch movie details. Please try again later.")
movies.services.MovieRecommendationError: Could not fetch movie details. Please try again later.
ERROR 2024-11-28 15:29:34,140 log Internal Server Error: /api/movie/7/
ERROR 2024-11-28 15:29:34,143 basehttp "GET /api/movie/7/ HTTP/1.1" 500 66
